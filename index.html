<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whale Wars â€“ 5-Minute Leverage Arena</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <div id="top-bar">
            <div id="timer-container">
                <span id="timer">05:00</span>
                <span id="next-round-countdown"></span>
            </div>
            <div id="round-info">
                <span>Round: <span id="round-number">1</span></span>
                <span>Seed: <span id="round-seed">...</span> <button id="copy-seed-btn">Copy</button></span>
            </div>
        </div>

        <main id="main-content">
            <div id="left-panel">
                <div id="account-card" class="card">
                    <h2>Account</h2>
                    <p>Balance: <span id="account-balance">$10,000</span></p>
                    <p>Last Round PnL: <span id="last-round-pnl">$0</span></p>
                    <p>All-time High: <span id="all-time-high">$10,000</span></p>
                    <p>Bankruptcies: <span id="bankrupt-count">0</span></p>
                </div>

                <div id="round-state-card" class="card">
                    <h2>This Round</h2>
                    <p>Cash: <span id="round-cash">$10,000</span></p>
                    <p>Position Size: <span id="position-size">0</span></p>
                    <p>Entry Price: <span id="entry-price">N/A</span></p>
                    <p>Leveraged PnL: <span id="pnl-value">$0</span> (<span id="pnl-percent">0%</span>)</p>
                    <p>Margin Used: <span id="margin-used">$0</span></p>
                    <div id="risk-meter-container">
                        <span>Risk: </span>
                        <progress id="risk-meter" value="0" max="100"></progress>
                    </div>
                </div>

                <div id="trading-panel" class="card">
                    <h2>Trade</h2>
                    <div class="leverage-selector">
                        <label for="leverage-slider">Leverage: <span id="leverage-display">1x</span></label>
                        <input type="range" id="leverage-slider" min="1" max="10" value="1" step="1">
                        <div class="leverage-presets">
                            <button data-leverage="1">1x</button>
                            <button data-leverage="2">2x</button>
                            <button data-leverage="3">3x</button>
                            <button data-leverage="5">5x</button>
                            <button data-leverage="10">10x</button>
                        </div>
                    </div>
                    <div class="qty-selector">
                        <label for="qty-input">Quantity:</label>
                        <input type="number" id="qty-input" value="1">
                        <div class="qty-presets">
                            <button data-qty="1">1</button>
                            <button data-qty="5">5</button>
                            <button data-qty="10">10</button>
                            <button data-qty="25">25</button>
                            <button id="max-qty-btn">MAX</button>
                        </div>
                    </div>
                    <div class="trade-actions">
                        <button id="buy-btn" class="btn-long">BUY / LONG</button>
                        <button id="sell-btn" class="btn-short">SELL / CLOSE</button>
                        <button id="panic-sell-btn">PANIC SELL</button>
                    </div>
                </div>
            </div>

            <div id="right-panel">
                <div id="chart-container" class="card">
                    <div id="price-display">
                        <span id="current-price">100.00</span>
                    </div>
                    <canvas id="price-chart"></canvas>
                </div>
                <div id="news-feed-container" class="card">
                    <h2>Events</h2>
                    <ul id="news-feed"></ul>
                </div>
            </div>
        </main>
    </div>

    <div id="bankrupt-overlay" class="hidden">
        <div class="overlay-content">
            <h1>ðŸ’€ BANKRUPT</h1>
            <p>Watch an ad to respawn with $2,000.</p>
            <div id="ad-rescue-ui">
                <button id="ad-rescue-btn">â–¶ Ad Rescue (Get $2,000)</button>
                <div id="ad-timer" class="hidden">
                    <p>Watching ad...</p>
                    <progress id="ad-progress" value="0" max="100"></progress>
                </div>
                <p id="ad-cooldown" class="hidden">Available in 60s</p>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
